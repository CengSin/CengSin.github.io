<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>CengSin PERSONAL BLOG</title><link>/</link><description>Recent content on CengSin PERSONAL BLOG</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 27 Jun 2025 14:26:00 +0800</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Goè¯­è¨€å®ç°çš„APNsæ¨é€æœåŠ¡ï¼šä¸€æ¬¡ç¨³å®šæ€§é—®é¢˜çš„æ’æŸ¥ä¸ä¼˜åŒ–å®å½•</title><link>/posts/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%9A%84apns%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E4%B8%80%E6%AC%A1%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98%E7%9A%84%E6%8E%92%E6%9F%A5%E4%B8%8E%E4%BC%98%E5%8C%96%E5%AE%9E%E5%BD%95/</link><pubDate>Fri, 27 Jun 2025 14:26:00 +0800</pubDate><guid>/posts/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%9A%84apns%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E4%B8%80%E6%AC%A1%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98%E7%9A%84%E6%8E%92%E6%9F%A5%E4%B8%8E%E4%BC%98%E5%8C%96%E5%AE%9E%E5%BD%95/</guid><description>&lt;h1 id="goè¯­è¨€å®ç°çš„apnsæ¨é€æœåŠ¡ä¸€æ¬¡ç¨³å®šæ€§é—®é¢˜çš„æ’æŸ¥ä¸ä¼˜åŒ–å®å½•">Goè¯­è¨€å®ç°çš„APNsæ¨é€æœåŠ¡ï¼šä¸€æ¬¡ç¨³å®šæ€§é—®é¢˜çš„æ’æŸ¥ä¸ä¼˜åŒ–å®å½•&lt;/h1>
&lt;p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½² APNs æ¨é€æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ï¼š&lt;strong>æœåŠ¡è¿è¡Œçº¦ä¸€å‘¨åï¼Œä¼šçªç„¶åœæ­¢æ¨é€æ¶ˆæ¯&lt;/strong>ï¼Œä¸”è…¾è®¯äº‘å®ä¾‹çš„å†…å­˜å ç”¨è¾¾åˆ° 100%ã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•ä»æœ€åˆçš„å¼‚å¸¸ç°è±¡ï¼Œåˆ°æœ€åç¨³å®šè¿è¡Œçš„æ•´ä¸ªæ’æŸ¥ä¸ä¼˜åŒ–è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹ä½ æ„å»ºç¨³å®šã€é«˜æ•ˆçš„ Go æ¨é€æœåŠ¡æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸€é—®é¢˜ç°è±¡ä¸åˆæ­¥æ’æŸ¥">ä¸€ã€é—®é¢˜ç°è±¡ä¸åˆæ­¥æ’æŸ¥&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>åˆå§‹é…ç½®&lt;/strong>ï¼šæœåŠ¡å¯åŠ¨æ—¶ä¼šæ ¹æ®é…ç½®åˆ›å»º &lt;code>200 ä¸ª httpClient&lt;/code>ï¼Œæ¯ä¸ª client å¯åŠ¨ &lt;code>400 ä¸ª goroutine&lt;/code>ï¼Œæ€»è®¡çº¦ &lt;strong>8 ä¸‡ä¸ª goroutine&lt;/strong>ã€‚&lt;/li>
&lt;li>&lt;strong>é—®é¢˜è¡¨ç°&lt;/strong>ï¼šæœåŠ¡è¿è¡Œä¸€å‘¨å·¦å³å &lt;strong>å®Œå…¨åœæ­¢æ¨é€&lt;/strong>ï¼ŒåŒæ—¶è…¾è®¯äº‘å®ä¾‹å†…å­˜å ç”¨è¾¾åˆ° &lt;strong>100%&lt;/strong>ã€‚&lt;/li>
&lt;li>&lt;strong>ç¬¬ä¸€æ­¥å°è¯•&lt;/strong>ï¼šç®€å•åœ°æå‡äº‘ä¸»æœºå†…å­˜ï¼Œä½†é—®é¢˜å¹¶æœªè§£å†³ï¼Œ&lt;strong>ä»…ä»…å»¶åäº†æ¨é€åœæ»çš„æ—¶é—´&lt;/strong>ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="äºŒæ·±å…¥é˜…è¯»æºç æ‰¾å‡ºå¹¶å‘æ¨¡å‹çš„é—®é¢˜">äºŒã€æ·±å…¥é˜…è¯»æºç ï¼Œæ‰¾å‡ºå¹¶å‘æ¨¡å‹çš„é—®é¢˜&lt;/h2>
&lt;ul>
&lt;li>é˜…è¯»ä»£ç åå‘ç°ï¼Œæ¯ä¸ª HTTP client ä¼šé…å¥—å¯åŠ¨ goroutine é˜Ÿåˆ—ï¼Œå¯¼è‡´ goroutine æ•°é‡æåº¦è†¨èƒ€ã€‚&lt;/li>
&lt;li>åˆæ­¥æ€€ç–‘ goroutine ä¸è¿æ¥æ•°çš„ç»„åˆå¯¼è‡´äº†å†…å­˜è†¨èƒ€ä¸èµ„æºæŠ¢å ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-åŠ¨ä½œè°ƒæ•´é…ç½®">ğŸ”§ åŠ¨ä½œï¼šè°ƒæ•´é…ç½®&lt;/h3>
&lt;ul>
&lt;li>å°†é…ç½®ä¿®æ”¹ä¸ºï¼š&lt;code>10 ä¸ª httpClient&lt;/code>ï¼Œæ¯ä¸ª client å¯åŠ¨ &lt;code>100 ä¸ª goroutine&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>æ•ˆæœ&lt;/strong>ï¼šå†…å­˜å ç”¨æ˜æ˜¾é™ä½ï¼Œä½† &lt;strong>æ¨é€åœæ­¢é—®é¢˜ä¾ç„¶å­˜åœ¨&lt;/strong>ï¼Œåªæ˜¯&lt;strong>å‘ç”Ÿæ—¶é—´å˜é•¿äº†&lt;/strong>ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ä¸‰æé«˜æ—¥å¿—ç­‰çº§æ•è·-apns-çš„-goaway-ä¿¡å·">ä¸‰ã€æé«˜æ—¥å¿—ç­‰çº§ï¼Œæ•è· APNs çš„ GOAWAY ä¿¡å·&lt;/h2>
&lt;ul>
&lt;li>å°†æ—¥å¿—çº§åˆ«è°ƒä¸º &lt;code>Error&lt;/code>ï¼Œè§‚å¯Ÿå…³é”®é”™è¯¯ã€‚&lt;/li>
&lt;li>å‘ç°æ—¥å¿—ä¸­é¢‘ç¹å‡ºç°ï¼š&lt;code>http2: received GOAWAY&lt;/code> çš„é”™è¯¯ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-ç†è§£-goaway">ğŸ§  ç†è§£ GOAWAYï¼š&lt;/h3>
&lt;ul>
&lt;li>GOAWAY æ˜¯ HTTP/2 åè®®ä¸­æœåŠ¡ç«¯é€šçŸ¥å…³é—­è¿æ¥çš„å¸§ã€‚&lt;/li>
&lt;li>APNs æœåŠ¡å™¨å¯èƒ½å› &lt;strong>è¿æ¥ä½¿ç”¨è¿‡åº¦&lt;/strong>æˆ–&lt;strong>èµ„æºå ç”¨è¿‡å¤š&lt;/strong>è€Œä¸»åŠ¨æ–­å¼€ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å››å®ç°è¿æ¥é‡å»ºé€»è¾‘">å››ã€å®ç°è¿æ¥é‡å»ºé€»è¾‘&lt;/h2>
&lt;h3 id="-åˆæ­¥æ–¹æ¡ˆ">ğŸ›  åˆæ­¥æ–¹æ¡ˆï¼š&lt;/h3>
&lt;ul>
&lt;li>åœ¨æ•è·åˆ° &lt;code>http2.GoAwayError&lt;/code> æ—¶ï¼Œè°ƒç”¨ &lt;code>replaceTransport()&lt;/code> é€»è¾‘ï¼Œé‡å»º HTTP å®¢æˆ·ç«¯è¿æ¥ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-é‡åˆ°é—®é¢˜">ğŸ é‡åˆ°é—®é¢˜ï¼š&lt;/h3>
&lt;ul>
&lt;li>æ—¥å¿—ä¸­å‘ç°ï¼š&lt;code>interface conversion: error is *errors.errorString, not http2.GoAwayError&lt;/code>&lt;/li>
&lt;li>åŸå› æ˜¯ä»£ç é”™è¯¯åœ°å°† &lt;code>error&lt;/code> ç±»å‹ç›´æ¥æ–­è¨€ä¸º &lt;code>http2.GoAwayError&lt;/code>ï¼Œå¯¼è‡´ panicã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-ä¿®å¤æ–¹å¼">âœ… ä¿®å¤æ–¹å¼ï¼š&lt;/h3>
&lt;p>ä½¿ç”¨ &lt;code>errors.As()&lt;/code> å®‰å…¨åˆ¤æ–­åº•å±‚é”™è¯¯ç±»å‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> &lt;span style="color:#a6e22e">goAwayErr&lt;/span> &lt;span style="color:#a6e22e">http2&lt;/span>.&lt;span style="color:#a6e22e">GoAwayError&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">errors&lt;/span>.&lt;span style="color:#a6e22e">As&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">Err&lt;/span>, &lt;span style="color:#f92672">&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">goAwayErr&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// æ­£ç¡®æ•è· GOAWAY é”™è¯¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">replaceHttpClient&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="-å‘å¸ƒåéªŒè¯">ğŸŸ¢ å‘å¸ƒåéªŒè¯ï¼š&lt;/h3>
&lt;ul>
&lt;li>æ—¥å¿—ä¸­ç¡®è®¤ &lt;code>replaceTransport()&lt;/code> è¢«è§¦å‘ã€‚&lt;/li>
&lt;li>GOAWAY åèƒ½è‡ªåŠ¨é‡è¿ï¼ŒæœåŠ¡æŒç»­è¿è¡Œæœªä¸­æ–­ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="äº”å½“å‰é…ç½®ä¸è¿è¡ŒçŠ¶æ€">äº”ã€å½“å‰é…ç½®ä¸è¿è¡ŒçŠ¶æ€&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>httpClient æ•°é‡&lt;/strong>ï¼š50&lt;/li>
&lt;li>&lt;strong>æ¯ä¸ª Client goroutine æ•°é‡&lt;/strong>ï¼š200&lt;/li>
&lt;li>&lt;strong>çŠ¶æ€&lt;/strong>ï¼šæœåŠ¡ç¨³å®šè¿è¡Œï¼Œå†…å­˜å ç”¨åˆç†ï¼ŒGOAWAY å¯è‡ªæ„ˆå¤„ç†ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å…­åç»­ä¼˜åŒ–å»ºè®®">å…­ã€åç»­ä¼˜åŒ–å»ºè®®&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ä¼˜åŒ–æ–¹å‘&lt;/th>
&lt;th>å»ºè®®&lt;/th>
&lt;th>ç›®çš„&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>è¿æ¥æ± ç®¡ç†&lt;/td>
&lt;td>- ç»Ÿä¸€ä½¿ç”¨ &lt;code>http.Transport&lt;/code>ï¼Œè®¾ç½® &lt;code>MaxIdleConnsPerHost&lt;/code> å……è¶³&lt;!-- raw HTML omitted -->- é¿å…æ¯ä¸ª client è‡ªå»º Transport&lt;/td>
&lt;td>æå‡è¿æ¥å¤ç”¨ç‡ï¼Œå‡å°‘å»ºè¿å¼€é”€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å¹¶å‘åŠ¨æ€è°ƒæ•´&lt;/td>
&lt;td>- ç›‘æ§ GOAWAYã€é‡è¯•æ¬¡æ•°&lt;!-- raw HTML omitted -->- é«˜è´Ÿè½½æ—¶è‡ªåŠ¨é™å¹¶å‘&lt;/td>
&lt;td>é™ä½ APNs æ–­è¿æ¥æ¦‚ç‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å†…å­˜ä¸ GC ç›‘æ§&lt;/td>
&lt;td>- å¯ç”¨ &lt;code>pprof&lt;/code>&lt;!-- raw HTML omitted -->- å®šæœŸæŠ“å–å †å¿«ç…§&lt;/td>
&lt;td>åŠæ—¶å‘ç° goroutine æˆ–å¯¹è±¡æ³„æ¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>é”™è¯¯åˆ†ç±»é‡è¯•&lt;/td>
&lt;td>- åŒºåˆ† GOAWAY / ç½‘ç»œå¤±è´¥ / éé‡è¯•é”™è¯¯&lt;/td>
&lt;td>æé«˜é‡è¯•æˆåŠŸç‡ã€å‡å°‘èµ„æºæµªè´¹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æŒ‡æ ‡ç›‘æ§å‘Šè­¦&lt;/td>
&lt;td>- é›†æˆ Prometheus/Grafana&lt;!-- raw HTML omitted -->- ç›‘æ§è¿æ¥æ•°ã€é”™è¯¯ç‡ã€æ¨é€æˆåŠŸç‡ç­‰&lt;/td>
&lt;td>å¿«é€Ÿå‘ç°é—®é¢˜è¶‹åŠ¿ï¼Œé˜²æ‚£æœªç„¶&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="ä¸ƒå°ç»“">ä¸ƒã€å°ç»“&lt;/h2>
&lt;p>é€šè¿‡æœ¬æ¬¡ç¨³å®šæ€§é—®é¢˜çš„æ’æŸ¥ï¼Œä½ å·²ç»ï¼š&lt;/p>
&lt;ul>
&lt;li>è¯†åˆ«å‡º goroutine ä¸å†…å­˜æš´æ¶¨ä¹‹é—´çš„å› æœå…³ç³»ï¼›&lt;/li>
&lt;li>æ­£ç¡®ç†è§£å¹¶å¤„ç†äº† HTTP/2 çš„ GOAWAY æœºåˆ¶ï¼›&lt;/li>
&lt;li>ç”¨æ—¥å¿— + é”™è¯¯ç±»å‹åŒ¹é…çš„æ–¹å¼ï¼Œå®ç°äº†è¿æ¥é‡å»ºçš„è‡ªæ„ˆé€»è¾‘ï¼›&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ç¨³å®šçš„ç³»ç»Ÿä¸æ˜¯ä¸å‡ºé”™ï¼Œè€Œæ˜¯èƒ½&lt;strong>åŠæ—¶æ„ŸçŸ¥å’Œå¿«é€Ÿæ¢å¤&lt;/strong>ã€‚è¿™æ¬¡ç»å†éå¸¸æœ‰ä»£è¡¨æ€§ï¼Œä¹Ÿä¸ºä½ æ„å»ºæ›´å¥å£®çš„æ¨é€æœåŠ¡æ‰“ä¸‹äº†åŸºç¡€ã€‚&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;p>å¦‚æœä½ æœ‰ç±»ä¼¼æœåŠ¡ï¼Œä¹Ÿæ¬¢è¿å‚è€ƒè¿™ä»½ç»éªŒæµç¨‹ï¼Œæˆ–ä¸æˆ‘äº¤æµè¿›ä¸€æ­¥çš„ç³»ç»Ÿè®¾è®¡å’Œä¼˜åŒ–ç­–ç•¥ã€‚&lt;/p></description></item><item><title>å›æ—‹é•–çš„æ•°é‡</title><link>/posts/number_of_boomerangs/</link><pubDate>Mon, 13 Sep 2021 11:15:13 +0800</pubDate><guid>/posts/number_of_boomerangs/</guid><description>&lt;h1 id="å›æ—‹é•–çš„æ•°é‡">å›æ—‹é•–çš„æ•°é‡&lt;/h1>
&lt;pre tabindex="0">&lt;code>ç»™å®šå¹³é¢ä¸ŠÂ n å¯¹ äº’ä¸ç›¸åŒ çš„ç‚¹Â points ï¼Œå…¶ä¸­ points[i] = [xi, yi] ã€‚
å›æ—‹é•– æ˜¯ç”±ç‚¹Â (i, j, k) è¡¨ç¤ºçš„å…ƒç»„ ï¼Œ
å…¶ä¸­Â iÂ å’ŒÂ jÂ ä¹‹é—´çš„è·ç¦»å’ŒÂ iÂ å’ŒÂ kÂ ä¹‹é—´çš„è·ç¦»ç›¸ç­‰ï¼ˆéœ€è¦è€ƒè™‘å…ƒç»„çš„é¡ºåºï¼‰ã€‚
è¿”å›å¹³é¢ä¸Šæ‰€æœ‰å›æ—‹é•–çš„æ•°é‡ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼špoints = [[0,0],[1,0],[2,0]]
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸¤ä¸ªå›æ—‹é•–ä¸º [[1,0],[0,0],[2,0]] å’Œ [[1,0],[2,0],[0,0]]
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼špoints = [[1,1],[2,2],[3,3]]
è¾“å‡ºï¼š2
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼špoints = [[1,1]]
è¾“å‡ºï¼š0
&lt;/code>&lt;/pre>&lt;p>é¦–å…ˆå†™ä¸€ä¸‹è‡ªå·±çš„æ€è·¯ï¼šæœ¬æ¥æˆ‘çš„æ€è·¯æ˜¯å›æ—‹é•–ä¸­é—´çš„ç‚¹åˆ°ä¸¤è¾¹çš„ç‚¹è·ç¦»è‚¯å®šæ˜¯ç›¸åŒçš„ã€‚é‚£ä¹ˆæ±‚å›æ—‹é•–çš„æ•°é‡å°±æ˜¯
æ‹¿åˆ°ä¸€ä¸ªç¬¦åˆä¸­é—´ç‚¹åˆ°ä¸¤è¾¹ç‚¹ç›¸åŒè·ç¦»çš„å…ƒç»„çš„æ•°é‡ã€‚åˆ°è€ƒè™‘å…ƒç»„çš„é¡ºåºè¿™ç‚¹æˆ‘å¼€å§‹çº ç»“äº†ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>&lt;strong>å…ƒç»„çš„é¡ºåºè‚¯å®šæ˜¯ä¸ç›¸åŒçš„ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°æ’åˆ—ç»„åˆä¸­çš„æ¦‚å¿µã€‚&lt;/strong>&lt;/p>
&lt;p>å›æƒ³ä¸€ä¸‹æˆ‘çš„æ€è·¯ï¼Œä¸€ä¸ªç‚¹åˆ°å…¶ä»–ä¸¤ä¸ªç‚¹çš„è·ç¦»ç›¸åŒã€‚&lt;/p>
&lt;p>Leetcodeè¿™é‡ŒæŠ½è±¡æˆäº†åˆ°æŸä¸ªç‚¹è·ç¦»ç›¸åŒçš„æ‰€æœ‰ç‚¹çš„è·ç¦» m , é‚£ä¹ˆåœ¨mä¸ªç‚¹ä¸­æ‹¿å‡ºä¸¤ä¸ªç‚¹ä¸æœ€å¤–å±‚ç‚¹pç»„åˆæˆä¸€ä¸ª
å›æ—‹é•–çš„å…ƒç»„å³ä¸ºæ’åˆ—ï¼ŒA(2, m) = m * (m - 1)&lt;/p>
&lt;p>çœ‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> &lt;span style="color:#a6e22e">numberOfBoomerangs&lt;/span>(&lt;span style="color:#a6e22e">points&lt;/span> [][]&lt;span style="color:#66d9ef">int&lt;/span>) (&lt;span style="color:#a6e22e">ans&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">p&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#66d9ef">range&lt;/span> &lt;span style="color:#a6e22e">points&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">cnt&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> make(&lt;span style="color:#66d9ef">map&lt;/span>[&lt;span style="color:#66d9ef">int&lt;/span>]&lt;span style="color:#66d9ef">int&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">q&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#66d9ef">range&lt;/span> &lt;span style="color:#a6e22e">points&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">dis&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#a6e22e">q&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>]) &lt;span style="color:#f92672">*&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#a6e22e">q&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>]) &lt;span style="color:#f92672">+&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span>[&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#a6e22e">q&lt;/span>[&lt;span style="color:#ae81ff">1&lt;/span>]) &lt;span style="color:#f92672">*&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span>[&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#a6e22e">q&lt;/span>[&lt;span style="color:#ae81ff">1&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">cnt&lt;/span>[&lt;span style="color:#a6e22e">dis&lt;/span>] &lt;span style="color:#f92672">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#66d9ef">range&lt;/span> &lt;span style="color:#a6e22e">cnt&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">ans&lt;/span> &lt;span style="color:#f92672">+=&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">*&lt;/span> (&lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">ans&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ä¸åŒ…å«è¿ç»­çš„1çš„æ•´æ•°</title><link>/posts/non_negative_integers_without_consecutive_ones/</link><pubDate>Sun, 12 Sep 2021 15:39:42 +0800</pubDate><guid>/posts/non_negative_integers_without_consecutive_ones/</guid><description>&lt;h1 id="ä¸åŒ…å«è¿ç»­çš„1çš„æ•´æ•°">ä¸åŒ…å«è¿ç»­çš„1çš„æ•´æ•°&lt;/h1>
&lt;blockquote>
&lt;p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œæ‰¾å‡ºå°äºæˆ–ç­‰äº n çš„éè´Ÿæ•´æ•°ä¸­ï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸åŒ…å« è¿ç»­çš„1 çš„ä¸ªæ•°ã€‚&lt;/p>&lt;/blockquote>
&lt;p>ç¤ºä¾‹ 1:&lt;/p>
&lt;p>è¾“å…¥: 5&lt;/p>
&lt;p>è¾“å‡º: 5&lt;/p>
&lt;p>è§£é‡Š:
ä¸‹é¢æ˜¯å¸¦æœ‰ç›¸åº”äºŒè¿›åˆ¶è¡¨ç¤ºçš„éè´Ÿæ•´æ•°&amp;lt;= 5ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>0 : 0
1 : 1
2 : 10
3 : 11
4 : 100
5 : 101
&lt;/code>&lt;/pre>&lt;p>å…¶ä¸­ï¼Œåªæœ‰æ•´æ•°3è¿åè§„åˆ™ï¼ˆæœ‰ä¸¤ä¸ªè¿ç»­çš„1ï¼‰ï¼Œå…¶ä»–5ä¸ªæ»¡è¶³è§„åˆ™ã€‚&lt;/p>
&lt;p>è¯´æ˜: 1 &amp;lt;= n &amp;lt;= 10^9&lt;/p>
&lt;p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°1ï½næ¯ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶ï¼Œç„¶åè®¡ç®—äºŒè¿›åˆ¶ä¸åŒ…å«è¿ç»­çš„1çš„æ•´æ•°çš„æ•°é‡ï¼Œè¿”å›å³å¯ã€‚ä½†æ˜¯
é¢˜ç›®ä¸­çš„nçš„å–å€¼èŒƒå›´ä¸º[1,10^9]ï¼Œæš´åŠ›è‚¯å®šä¼šè¶…æ—¶ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¦è®¡ç®—çš„æ˜¯[0,n]èŒƒå›´å†…æ•°å­—äºŒè¿›åˆ¶ä¸åŒ…å«è¿ç»­1çš„ä¸ªæ•°ã€‚&lt;/p>
&lt;p>å‡è®¾æ•°å­—nçš„äºŒè¿›åˆ¶ä½ä¸ºï¼š1001001ï¼Œå¦‚ä½•è®¡ç®—èŒƒå›´å†…æ•°å­—äºŒè¿›åˆ¶ä¸åŒ…å«è¿ç»­1çš„ä¸ªæ•°ï¼Ÿ&lt;/p>
&lt;p>é¦–å…ˆæˆ‘ä»¬å‡è®¾æ•°å­—å¼€å¤´ä¸º0ï¼Œæ•°å­—è¡¨ç¤ºä¸º0xxxxxxã€‚0ä¹‹åçš„äºŒè¿›åˆ¶å¯ä»¥ä¸º1ï¼Œå¯ä»¥ä¸º0ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å”¯ä¸€èƒ½å¤Ÿ
ç¡®å®šçš„å°±æ˜¯ï¼Œå¼€å¤´çš„0é‚£ä¸€ä½ã€‚xxxxxxä¸­æœ‰å¤šå°‘ä¸ªä¸åŒ…å«è¿ç»­1æ•°å­—å‘¢ï¼Ÿæˆ‘ä»¬å…ˆè®°ä¸‹è¿™ä¸ªå­é—®é¢˜ã€‚&lt;/p>
&lt;p>å…¶æ¬¡æˆ‘ä»¬å‡è®¾æ•°å­—å¼€å¤´ä¸º1ï¼Œé‚£ä¹ˆ1ä¹‹åçš„äºŒè¿›åˆ¶ä½å¿…é¡»ä¸º0ã€‚é‡ç”³ä¸€ä¸‹ï¼ŒäºŒè¿›åˆ¶ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°å­—ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç¡®å®š
å¼€å¤´çš„ä¸¤ä½äºŒè¿›åˆ¶10ã€‚é‚£ä¹ˆæ•°å­—å¯ä»¥è¡¨ç¤ºä¸º10xxxxxã€‚xxxxxä¸­æœ‰å¤šå°‘ä¸ªä¸åŒ…å«è¿ç»­1çš„æ•°å­—å‘¢ï¼Ÿ&lt;/p>
&lt;p>å£°æ˜ä¸€ä¸ªæ•°ç»„dpï¼Œä¸‹æ ‡iè¡¨ç¤ºé•¿åº¦ä¸ºiçš„äºŒè¿›åˆ¶ã€‚&lt;strong>dp[i]è¡¨ç¤ºè¯¥äºŒè¿›åˆ¶ä½ä¸åŒ…å«è¿ç»­çš„1çš„æ•°é‡&lt;/strong>ã€‚ç”±äº
æ•°å­—çš„äºŒè¿›åˆ¶çš„æ¯ä¸€ä½ä¸æ˜¯0å°±æ˜¯1ï¼Œå¦‚æœä¸€ä¸ªäºŒè¿›åˆ¶çš„å¼€å¤´ä¸º0ï¼Œé‚£ä¹ˆå®ƒçš„çš„ä¸‹ä¸€ä½å°±å¯ä»¥é€‰æ‹©0ï¼Œæˆ–è€…1ã€‚å¦‚æœä¸€ä¸ªäºŒ
è¿›åˆ¶çš„å¼€å¤´ä¸º1ï¼Œé‚£ä¹ˆå®ƒçš„ä¸‹ä¸€ä½åªèƒ½æ˜¯0ï¼Œå¦‚æœæ˜¯1çš„è¯å°±ä¸ç¬¦åˆé¢˜ç›®ä¸­è¦æ±‚çš„ä¸åŒ…å«è¿ç»­çš„1ã€‚ç”±æ­¤å¯ä»¥å¾—å‡ºï¼š&lt;/p>
&lt;p>dp[i] = dp[i - 1] + dp[i - 2]&lt;/p>
&lt;p>dp[i - 1] è¡¨ç¤º 0å¼€å¤´çš„ï¼Œé•¿åº¦ä¸ºi-1çš„äºŒè¿›åˆ¶ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°é‡
dp[i - 2] è¡¨ç¤º 10å¼€å¤´çš„ï¼Œé•¿åº¦ä¸ºi-2çš„äºŒè¿›åˆ¶ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°é‡&lt;/p>
&lt;p>ç»ˆæ­¢æ¡ä»¶ä¸ºï¼š&lt;/p>
&lt;p>dp[0] = 1
dp[1] = 2&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š1001001&lt;/p>
&lt;p>é¦–å…ˆè¦è€ƒè™‘ï¼š 0000000ï½01111111 ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°å­—çš„æ•°é‡&lt;/p>
&lt;p>ç„¶åå°±æ˜¯ï¼š1000000ï½1001001 ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°å­—çš„æ•°é‡ ( ï¼Ÿ)&lt;/p>
&lt;p>æ€ä¹ˆæ±‚1000000ï½1001001 ä¸­ä¸åŒ…å«è¿ç»­1çš„æ•°å­—çš„æ•°é‡ ( ï¼Ÿ)å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—&lt;/p>
&lt;p>1000000~10000111å’Œ1001000åˆ°1001001çš„æ•°é‡ã€‚&lt;/p>
&lt;p>è€ƒè™‘ä¸€ä¸‹è¾¹ç•Œæ¡ä»¶ï¼š
1001101ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªä¸º1çš„äºŒè¿›åˆ¶ä½è®°å½•ä»–çš„å‰ä¸€ä½äºŒè¿›åˆ¶ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸º1ï¼Œé‚£ä¹ˆè¿”å›falseã€‚å¦åˆ™è¿”å›trueã€‚&lt;/p>
&lt;h4 id="ä»£ç ">ä»£ç &lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> &lt;span style="color:#a6e22e">findIntegers&lt;/span>(&lt;span style="color:#a6e22e">n&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>) (&lt;span style="color:#a6e22e">ans&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">k&lt;/span>, &lt;span style="color:#a6e22e">dp&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">32&lt;/span>, [&lt;span style="color:#ae81ff">32&lt;/span>]&lt;span style="color:#66d9ef">int&lt;/span>{&lt;span style="color:#ae81ff">1&lt;/span>, &lt;span style="color:#ae81ff">2&lt;/span>} &lt;span style="color:#75715e">// k = 32æ˜¯è¦ä»2^32ï¼ˆæœ€å¤§ï¼‰å¼€å§‹è®¡ç®—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span> &amp;lt; &lt;span style="color:#a6e22e">k&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">++&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">dp&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>] = &lt;span style="color:#a6e22e">dp&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">dp&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">k&lt;/span> = &lt;span style="color:#ae81ff">31&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">pre&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#a6e22e">k&lt;/span> &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">n&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span>(&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span>&lt;span style="color:#a6e22e">k&lt;/span>) &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">ans&lt;/span> &lt;span style="color:#f92672">+=&lt;/span> &lt;span style="color:#a6e22e">dp&lt;/span>[&lt;span style="color:#a6e22e">k&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">pre&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">ans&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">pre&lt;/span> = &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">pre&lt;/span> = &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">k&lt;/span> &lt;span style="color:#f92672">-=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">ans&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ä½¿ç”¨rand7å®ç°rand10</title><link>/posts/implement_rand10_use_rand7/</link><pubDate>Sun, 05 Sep 2021 14:50:20 +0800</pubDate><guid>/posts/implement_rand10_use_rand7/</guid><description>&lt;h1 id="ä½¿ç”¨rand7å®ç°rand10">ä½¿ç”¨rand7å®ç°rand10&lt;/h1>
&lt;p>é¢˜ç›®ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>å·²æœ‰æ–¹æ³•Â rand7Â å¯ç”Ÿæˆ 1 åˆ° 7 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ï¼Œè¯•å†™ä¸€ä¸ªæ–¹æ³•Â rand10Â ç”Ÿæˆ 1 åˆ° 10 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ã€‚
ä¸è¦ä½¿ç”¨ç³»ç»Ÿçš„Â Math.random()Â æ–¹æ³•ã€‚
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-rand10-using-rand7
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
&lt;/code>&lt;/pre>&lt;p>ç»“è®ºï¼š&lt;/p>
&lt;ol>
&lt;li>(RAND_X - 1) * Y + RAND_Y = RAND_X*Y&lt;/li>
&lt;li>RAND_X*Y % Y + 1 = RAND_Y&lt;/li>
&lt;/ol>
&lt;p>è¯æ˜ç»“è®º1ï¼š&lt;/p>
&lt;p>ä½¿ç”¨rand2ç”Ÿæˆrand4&lt;/p>
&lt;p>ä½¿ç”¨ rand2_Row + rand2_Col ç”Ÿæˆçš„éšæœºæ•°ä¸ºï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Col\Row&lt;/th>
&lt;th>1&lt;/th>
&lt;th>2&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>2&lt;/td>
&lt;td>3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>3&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ç»“æœç”Ÿæˆçš„èŒƒå›´ä¸º[2,4]&lt;/p>
&lt;p>ç„¶åæˆ‘ä»¬ç¼©å°ç»“æœçš„èŒƒå›´ï¼Œç”¨ rand2_Row - 1 æ›¿æ¢ åŸæ¥å¼å­ä¸­çš„ rand2_Rowï¼Œä¸Šé¢çš„å¼å­å°±å˜æˆäº†ï¼š(rand2_Row - 1) + rand2_Col&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Col\Row&lt;/th>
&lt;th>0&lt;/th>
&lt;th>1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2&lt;/td>
&lt;td>3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ç»“æœç”Ÿæˆçš„èŒƒå›´ä¸º[1,3]ã€‚ä½†æ˜¾ç„¶ç»“æœå‡ºç°çš„æ¦‚è®ºå¹¶ä¸æ˜¯å¹³å‡çš„ï¼Œ1ï¼Œ3çš„æ¦‚ç‡åˆ†åˆ«ä¸º25%ï¼Œ2çš„æ¦‚ç‡æœ€å¤§ï¼Œä¸º50%ã€‚&lt;/p>
&lt;p>ä¹‹åæˆ‘ä»¬ä½¿ç”¨ (rand2_Row - 1) * 2 + rand2_Col&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Col\Row&lt;/th>
&lt;th>0&lt;/th>
&lt;th>1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>(1,2,3,4)å‡ºç°çš„ç»“æœä¸ºå‡è¡¡çš„æ¦‚ç‡ã€‚&lt;/p>
&lt;p>ä¹‹åå°†ç»“è®ºå¸¦å…¥(rand2 - 1) * 3 + rand3 == rand6&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Col\Row&lt;/th>
&lt;th>0&lt;/th>
&lt;th>1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2&lt;/td>
&lt;td>5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>3&lt;/td>
&lt;td>6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>è¯æ˜ç»“è®º2ï¼š&lt;/p>
&lt;p>rand4 % 2 + 1 = rand2&lt;/p>
&lt;ul>
&lt;li>1 % 2 + 1 = 2&lt;/li>
&lt;li>2 % 2 + 1 = 1&lt;/li>
&lt;li>3 % 2 + 1 = 2&lt;/li>
&lt;li>4 % 2 + 1 = 1&lt;/li>
&lt;/ul>
&lt;p>é¢˜ç›®ï¼š&lt;/p>
&lt;p>ä½¿ç”¨rand7ç”Ÿæˆrand10&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¬¬ä¸€ä¸ªç»“è®º&lt;/p>
&lt;p>(rand7 - 1) * 7 + rand7 = rand49&lt;/p>
&lt;p>å› ä¸ºrand49ä¸æ˜¯rand10çš„å€æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠ›å¼ƒ[41, 49]ä¹‹é—´çš„æ•°å­—ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> &lt;span style="color:#a6e22e">rand10&lt;/span>() &lt;span style="color:#66d9ef">int&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> (&lt;span style="color:#a6e22e">rand7&lt;/span>() &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">rand7&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">40&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ç§ç»“è®ºçš„æœ€åæƒ…å†µå¯èƒ½ä¼šè¶…æ—¶ï¼Œnum &amp;gt; 40ã€‚æ‰€ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œç¼©å°ä¸å±äº10çš„æ•´æ•°å€çš„èŒƒå›´ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> &lt;span style="color:#a6e22e">rand10&lt;/span>() &lt;span style="color:#66d9ef">int&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> (&lt;span style="color:#a6e22e">rand7&lt;/span>() &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">rand7&lt;/span>() &lt;span style="color:#75715e">// rand49&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">40&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">40&lt;/span> &lt;span style="color:#75715e">// rand9&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">b&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">rand7&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">num&lt;/span> = (&lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">b&lt;/span> &lt;span style="color:#75715e">// rand63&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">60&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">a&lt;/span> = &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">60&lt;/span> &lt;span style="color:#75715e">// rand3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">b&lt;/span> = &lt;span style="color:#a6e22e">rand7&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">num&lt;/span> = (&lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">b&lt;/span> &lt;span style="color:#75715e">// rand21&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">20&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">num&lt;/span> &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>